run_name: "dmd_temporal_split"  # Train on first n snapshots, predict rest

paths:
  output_base: "./output/"
  
  data_dir: "./data/hw2d/"
  
  # Single trajectory for temporal split mode
  training_files: 
      - hw2d_sim_step0.025_end1_pts512_c11_k015_N3_nu5e-8_20250315142044_11702_0.h5

  # test_files not used in temporal_split mode
  test_files: []

physics:
  dt: 0.025
  n_fields: 2
  n_x: 256
  n_y: 256

# Dimensionality reduction (for POD basis)
reduction:
  method: "linear"
  r: 75
  target_energy: 0.9999
  svd_save: 250

# DMD-specific settings
dmd:
  # Training mode: "multi_trajectory" or "temporal_split"
  training_mode: "temporal_split"
  
  # For temporal_split: train on first n snapshots, predict rest
  temporal_split_train: 2000   # Train on first 2000 snapshots (50 time units)
  
  rank: null                   # DMD rank (null = use POD r)
  num_trials: 0                # Bagging trials (0 = no bagging)
  use_proj: true
  eig_sort: "real"
  k0: 0.15
  c1: 1.0
  
truncation:
  enabled: true
  method: "time"
  time: 200.0                  # Use 200 time units total (8000 snapshots)

preprocessing:
  centering: true
  scaling: false

training:
  training_end: 8000
  n_steps: 8000

regularization:
  state_lin: {min: 1.0e-4, max: 1.0e6, num: 1, scale: "linear"}
  state_quad: {min: 1.0e5, max: 1.0e15, num: 1, scale: "linear"}
  output_lin: {min: 1.0e-10, max: 1.0e1, num: 1, scale: "linear"}
  output_quad: {min: 1.0e-12, max: 1.0e1, num: 1, scale: "linear"}

model_selection:
  method: "top_k"
  num_top_models: 1
  threshold_mean: 0.05
  threshold_std: 0.4

evaluation:
  save_predictions: true
  generate_plots: true

execution:
  verbose: true
  log_level: "INFO"
  engine: "h5netcdf"
